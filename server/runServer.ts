import Express from "express"
import { buildRouter } from "./router";

export { runServer }

const PORT = 3001;

function runServer() {
    const app = Express();

    const router = buildRouter();

    app.use(function (_, res, next) {
        res.header("Access-Control-Allow-Origin", "http://localhost:3000");
        next();
    });

    app.use("/api", router)


    app.listen(PORT, () => {
        console.log(`Server is running on port ${PORT}`)
    })
}