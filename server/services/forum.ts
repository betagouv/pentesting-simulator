import { client } from "../database";

type messageType = { author: string, message: string }

const forumMessages: Array<messageType> = [];

export { forumService }

const forumService = {
    addMessageToForum,
    fetchMessagesFromForum,
    testFetchMessagesFromForum
}

function addMessageToForum(message: messageType) {
    forumMessages.push(message);
    return forumMessages;
}

function fetchMessagesFromForum() {
    return forumMessages
}

async function testFetchMessagesFromForum() {
    const truc = await client.query(`SELECT * FROM messages`);
    console.log(truc);
    return
}