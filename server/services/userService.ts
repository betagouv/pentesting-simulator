import { client } from "../database";

export { userService }

const userService = { getUserById, getUsers }

async function getUserById(id: string) {
    const users = (await client.query(`SELECT id, name FROM users WHERE id=${id}`)).rows
    if (users.length > 0) {
        return users[0]
    } else {
        throw new Error(`Cannot find user for id ${id}`);
    }
}

async function getUsers() {
    const users = await client.query(`SELECT id, name FROM users`)
    return users.rows
}