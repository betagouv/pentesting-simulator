import { BrowserRouter, Navigate, Route, Routes, } from 'react-router-dom';
import { storage } from './services';
import { routes } from './routes';

export { Router }

function Router() {
    const hasUserName = !!storage.user.getUserName();
    return <BrowserRouter>
        <Routes>
            {Object.entries(routes).map(([routeName, route]) => <Route key={routeName} path={route.getPath()} element={route.component} />)}
            <Route path="/client" element={<Navigate to={hasUserName ? routes["challenge-list"].getPath() : routes["login"].getPath()} />} />
        </Routes>
    </BrowserRouter>
}