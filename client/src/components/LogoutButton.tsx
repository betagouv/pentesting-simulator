import React from 'react'
import { Button } from '@dataesr/react-dsfr'
import { useNavigate } from 'react-router-dom'
import { routes } from '../routes'
import { storage } from '../services'

export { LogoutButton }

function LogoutButton() {
    const navigate = useNavigate()
    return <Button onClick={logout}>Se d√©connecter</Button>

    function logout() {
        storage.user.setUserName("");
        storage.user.setPassword("");
        document.cookie = "ADMIN_COOKIE=;expires=Thu, 01 Jan 1970 00:00:01 GMT"
        navigate(routes["login"].getPath())
    }
}
